# jQuery


## jQuery 시작 구조
```
$(function(){
  //이 중괄호 안쪽이 jQuery 영역

});
```
** `function(){} == () => {}` 서로의 자리에 바꿔써도 똑같음 **

### 같은 의미의 표현들 
1. `$(document).ready(function(){});`  // 의미중복+너무 길어서 요즘은 안씀
2. `const fn = function (){}` 으로 선언 이후 `$(fn);`
3. `function fn(){}` 앞이나 뒤 어디든 `$(fn);`
`$(fn);`
// 4번의 `function fn(){}`은 무조건 위로 끌어올려지기때문에 $(fn)이후에 써도 문제 없이 fn이 읽어짐

다 같은 뜻

---

jQuery 영역에 입력한 값 console에서 확인하는 방

```
console.log($('section'));                  // $(): jQuery 객체
console.log($('section')[0]);               // []: DOM 요소 --> 화면에서 구조까지 보여줌
console.log(document.querySelector('section')); // DOM 요소
```

---

기본적인 jQuery 사용 패턴
```
$(function () {

    let html = "";

    for (let i = 0; i < 25; i++) {
        let css = (i === 6) ? 3 : (i % 2 === 0) ? 2 : 1;
        html += `<div class="bg${css}"></div>`;
    }

    $("section").html(html);

});
```

⭐ 더 실무다운 구조 (함수 분리)
```
$(function(){
    
    $("section").html(html());
});

function html(){
    let html="";

    for(i=0; i<25; i++){
      css = (i === 6) ? 3 : (i%2 === 0) ? 2 : 1;
        html+=`<div class="bg${css}"></div>`;
    }
    return html;  

}
```

**return함수가 없으면 출력이 안됨!!**
함수를 실행한 결과를 html() <-이 함수로 html형식으로 반환한 값을 밖으로 보내는 메소드가 return임

html()안에 함수 바로 쓰기 =콜백
```
$(function () {
    $("section").html(function () {
        let html = "";

        for (let i = 0; i < 25; i++) {
            let css = (i === 6) ? 3 : (i % 2 === 0) ? 2 : 1;
            html += `<div class="bg${css}"></div>`;
        }

        return html;
    });
});
```

## jQuery 문장 읽는 법
`$('section').html(html);`
-> $(대상): 'section'이라는 놈에게 
-> .(함수): html 형식으로
-> (요소): 요소를 넣어줘

## jQuery로 태그 생성하고 삽입하기
```
    let $btnDraw = $("<button>",{ text: "그리기" class: "btn-draw"});
    let $btnClear = $("<button>",{ text: "지우기"});
    let $btnSwitch = $("<button>",{ text: "스위치"});

    $("main").prepend($btnDraw, $btnClear, $btnSwitch);
```
- $btn이라고 하는 이유는 jQuery로 만든 애구나 판별하기 위함.
- text: 로 원하는 글자 입력 / class: / id: 가능
- .prepend(); => main태그의 가장 앞에 입력
  .append(); => 가장 뒤에 입력

## 이벤트 위임 시키기
```
let isDrawn = false;

$("main").on("click", ".btn-draw", function(){
        draw();
        isDrawn = true;
    });
    $("main").on("click", ".btn-clear", function(){
        clear();
        isDrawn = false;
    });
    $("main").on("click", ".btn-switch", function(){
        if(!isDrawn){
            draw();
        } else{
            clear();
        } 
        isDrawn=!isDrawn;
    });
```

`.on`: 이벤트 등록하는 메서드(안에 "이벤트"/"대상"/함수)넣을 수 있음
"~하면, 이 함수 실행해"라는 의미
`.on("click", ".btn-switch", function(){});`
-> "클릭하면", "btn-switch라는 클래스의 태그를", "function이하를 실행해"
**중요**
여기 밖에 전역변수로 isDrawn을 선언해둬야 얘네 전부 변수 isDrawn을 쓸 수 있음
첫 시작이 빈 화면이고 싶으면 isDrawn =false; / 채워진 화면이고 싶으면 true;로 하면 됨



  ---

/여기부턴 기억이 안나네.../

이벤트는 중복이 가능함
=> 중복을 없애기 위해
on off 가 필요함
`$(태그/클래스/#아이디).off()` -> 모든 이벤트를 없앤다
`$(태그/클래스/#아이디).off().on("실행된 이벤트")` -> ""안의 이벤트를 없앤다
만약
`$('button').click(function(e){어쩌구저쩌구} `가 여러개라서 클릭 이벤트가 여러개일 때 사용하는것
