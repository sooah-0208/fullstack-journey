깃허브에 중요 정보는 올라가면 안되니 따로 파일을 빼 해당 파일만 제외하고 올림
-> `.gitignore`파일 만들어주고 여기에 파일명 쓰면 됨

.env파일
용도: PC의 환경변수를 선언해주는 용도
같은 pc에서만 쓸거라면 설정-환경변수에 변수/내용 입력해주면 환경변수가 등록되어있는거라 env파일 없어도 됨!


## SELECT문 사용 위한 설정
상세보기 하기 위해 만들어줌

```
import mariadb
from dotenv import load_dotenv
load_dotenv()
import os

try:
    conn = mariadb.connect(
        user=os.getenv('USER'),
        password=os.getenv('PASSWORD'),
        host=os.getenv('HOST'),
        port=int(os.getenv('PORT')),
        database=os.getenv('DATABASE')
    )
    print(conn, type(conn))
    cur = conn.cursor()
    sql = 'select 1 as no'
    cur.execute(sql) 
    row = cur.fetchone()
    columns = [desc[0] for desc in cur.description]
    result = dict(zip(columns, row))if row else None
    print (result)
    cur.close()
    conn.close()
except mariadb.Error as e:
    print(f'MariaDB Error: {e}')
```

`conn`: HeidSQL에 커넥션 시키는 역할  
`mariadb.connect`: HeidSQL이랑 MariaDB랑 연결시켜서 열기 누르면 열리도록 하는 부분  
`cur`: 커서, DB와 통신하는 객체
` cur = conn.cursor()`: 터미널이나 sql에서 입력창에 입력할 수 있게 만들어주는 커서  
`sql = 'select 1 as no'`: sql문 생성
`cur.execute(sql)`: sql을 넘겨줌
`row = cur.fetchone()`: 하나의 행 받을 때 사용하는 함수  
*fetchall은 모든 행 받아옴  
`cur.description`: 컬럼 정보 메타데이터, SELECT 실행 후에만 존재함   
ex)
```(
  ('id',   ...),
  ('name', ...)
)
```
이미지 참고  
![alt text](image.png) 
`columns = [desc[0] for desc in cur.description]`: 만들어진 행 중에 컬럼명(이름) 부분만 빼서 컬럼즈라는 변수로 지정  
`result = dict(zip(columns, row))if row else None`:
`zip()`:()안의 내용을 합쳐줌    
`dict()`: 딕셔너리 형식으로
`if~`: **행이 하나일 때 사용**  
row가 있으면 만들고, 없으면 None처리  
+) `row = cur.fetchone()`
`for row in rows`: **여러 행일 때 사용**  
+) `rows = cur.fetchall()`, 얘는 rows에서 반복시켜 각 row들을 만들거라 row, rows 따로 해줘야함
`close()`: 서버에 서비스하게 되면 실행 후 종료시켜줘야 변경사항이 저장되어 사용자에게 해당 내용이 보임

만드는 순서
1. 커넥션시키기: 마리아디비랑 연결, 유저 비번 호스트 포트 db
2. 커서 생성
3. sql문 작성
4. sql문 커서가 받을 수 있도록 연결
5. 열 어떻게 받아올지 결정
6. 전체 행 생성
7. 결과에 행+열 넣어주기
8. 결과 출력
9. 변경 된 내용이 있으니 종료시켜줌(순서는 만든 순서 반대로)  
즉, 커서 -> 커넥션

매번 try함수 다 입력하기 귀찮으니 하나의 함수로 묶어줌(단일, 복수형 두가지)
```
def findOne(sql):
    try:
        conn = mariadb.connect(
        user=os.getenv('USER'),
        password=os.getenv('PASSWORD'),
        host=os.getenv('HOST'),
        port=int(os.getenv('PORT')),
        database=os.getenv('DATABASE')
        )   
        cur = conn.cursor()
        cur.execute(sql) 
        row = cur.fetchone()
        columns = [desc[0] for desc in cur.description]
        cur.close()
        conn.close()
        return dict(zip(columns, row))if row else None
    except mariadb.Error as e:
        print(f'MariaDB Error: {e}')
        return None

sql = '''
    select 1 as no
    union ALL
    select 2
    '''

print(findOne(sql))
```
1개 짜리, 여러개짜리 함수 2개 만들어서 print(각 함수) 하면 됨

**이렇게 꺼낸 친구들을 useState로 저장하면 db에 저장할 수 있는 거 아닐까?**


create: table 생성하기
```
CREATE TABLE edu.test (
    `no` INT NOT NULL AUTO_INCREMENT,
    `name` VARCHAR(50) NOT NULL,
    `regdate` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    PRIMARY KEY (no)
);
```


