Dockerë€?
- ê° ì–´í”Œë¦¬ì¼€ì´ì…˜ì´ ë…ë¦½ì ìœ¼ë¡œ ê²©ë¦¬ëœ í™˜ê²½ì„ êµ¬ì„±í•´ì£¼ëŠ” ê°€ìƒí™˜ê²½
=> ì´ ê° ë…ë¦½í™˜ê²½ì„ ì—°ê²°í•´ì£¼ëŠ”ê²Œ `ë¸Œë¦¿ì§€`
- ë¸Œë¦¿ì§€ë€?
  : ê²©ë¦¬í™”ëœ ë‚´ë¶€ ì»¨í…Œì´ë„ˆë“¤ì„ ì—°ê²°í•´ì£¼ëŠ” ë„¤íŠ¸ì›Œí¬
  : ìƒˆë¡œìš´ ë„¤íŠ¸ì›Œí¬ ë§ì´ ìƒê¹€
    ë„ì»¤ì—ì„œ â€œë„¤íŠ¸ì›Œí¬ ë§â€ì´ ìƒê¸´ë‹¤ëŠ” ê±´
    ë„ì»¤ê°€ ë‚´ë¶€ì— ì´ëŸ° ê±¸ í•˜ë‚˜ ë§Œë“ ë‹¤ëŠ” ë§ğŸ‘‡
    ```
    ê°€ìƒì˜ ë„¤íŠ¸ì›Œí¬ ê³µê°„
    ì»¨í…Œì´ë„ˆë§ˆë‹¤ IP ì£¼ì†Œë¥¼ ë¶€ì—¬
    ê°™ì€ ë§ì— ìˆëŠ” ì»¨í…Œì´ë„ˆë¼ë¦¬ëŠ” ì„œë¡œ íŒ¨í‚· ì „ì†¡ ê°€ëŠ¥
    ë‹¤ë¥¸ ë§ê³¼ëŠ” ìë™ìœ¼ë¡œ ë¶„ë¦¬(ê²©ë¦¬)
    ```
-----

## network
```
// ìƒì„± ëª…ë ¹ì–´
docker network create my-net(ì–˜ëŠ” ë‚´ê°€ ì„¤ì •í•˜ëŠ” ì´ë¦„)

// í™•ì¸ ëª…ë ¹ì–´
docker network ls  
// ì¶œë ¥
NETWORK ID     NAME                           DRIVER    SCOPE
259733eb9d6a   bridge                         bridge    local

// ìƒì„¸ í™•ì¸ ëª…ë ¹ì–´
docker network inspect my-net(ì´ë¦„)
// ì¶œë ¥
[
    {
        "Name": "my-net",
        "Id": "c7fb32fa61e6ffc51d2f61666d91d3a5516cda123fdaf243fcc47430d43e94fa",
        "Created": "2026-02-05T01:15:39.099068833Z",
        "Scope": "local",
        "Driver": "bridge",
        "EnableIPv4": true,
        "EnableIPv6": false,
        "IPAM": {
            "Driver": "default",
            "Options": {},
            "Config": [
                {
                    "Subnet": "172.20.0.0/16",
                    "Gateway": "172.20.0.1"     //ì´ê²Œ ip ì–˜ë¡œ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ë©´ ë‹¤ìŒ "IPAddress": "172.17.0.2"ëŠ” 2ê°€ ë¨
                }
            ]
        },
        "Internal": false,
        "Attachable": false,
        "Ingress": false,
        "ConfigFrom": {
            "Network": ""
        },
        "ConfigOnly": false,
        "Options": {
            "com.docker.network.enable_ipv4": "true",
            "com.docker.network.enable_ipv6": "false"
        },
        "Labels": {},
        "Containers": {},
        "Status": {
            "IPAM": {
                "Subnets": {
                    "172.20.0.0/16": {
                        "IPsInUse": 3,
                        "DynamicIPsAvailable": 65533
                    }
                }
            }
        }
    }
]
```

íŠ¹ì • ì»¨í…Œì´ë„ˆ ë„¤íŠ¸ì›Œí¬ í™•ì¸

```
docker inspect ì»¨í…Œì´ë„ˆëª…
docker inspect -f "{{.NetworkSettings.Networks}}" ì»¨í…Œì´ë„ˆëª…
```


## volume
compose.ymlì—ì„œ ì‚¬ìš©í•˜ëŠ” volume
```
services:
  react.shellfolder.com:
    container_name: react.shellfolder.com
    image: node:24.13.0
    depends_on:
      - fastapi.shellfolder.com
    ports:
      - 5173:5173
    volumes:                        //ì´ê±°!
      - ./frontend:/workspace 
    command: ["sleep", "infinity"]
```
ì—¬ê¸°ì˜ volumeì€ ë„ì»¤ì˜ ë³¼ë¥¨ì´ ì•„ë‹ˆë¼ ë‚´ pc ë“œë¼ì´ë¸Œì— ì €ì¥ë˜ì–´ìˆëŠ” ì™¸ë¶€ volumeì´ë¼ì„œ ë„ì»¤ë¥¼ ì§€ì›Œë„ ë‚¨ì•„ìˆìŒ 

ë„ì»¤ ë‚´ë¶€ì˜ volume
```
C:\Users\hi\Desktop\ìˆ˜ì•„\0205\0205>docker volume ls
DRIVER    VOLUME NAME
local     38065498f76532572bf2bfdda4e559cabb126fb77142d8dfe2c7418712fd0416
local     vscode
```
ì—¬ê¸°ì˜ volumeì€ ë„ì»¤ ë‚´ë¶€ì—ë§Œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ë„ì»¤ë¥¼ ì‚­ì œí•˜ë©´ ë‚ ì•„ê°

## container
ê° ê°œë°œí™˜ê²½ì„ êµ¬ì„±í•œ ë…ë¦½ì ì¸ ê°€ìƒí™˜ê²½
```
C:\Users\hi\Desktop\ìˆ˜ì•„\0205\0205>docker container ls
CONTAINER ID   IMAGE            COMMAND                   CREATED        STATUS          PORTS
                         NAMES
05da9137eab1   redis:8.4.0      "docker-entrypoint.sâ€¦"   16 hours ago   Up 10 minutes   0.0.0.0:6379->6379/tcp, [::]:6379->6379/tcp   redis
d8a69276cf66   mariadb:12.1.2   "docker-entrypoint.sâ€¦"   16 hours ago   Up 10 minutes   0.0.0.0:3306->3306/tcp, [::]:3306->3306/tcp   mariadb
```

ë‚´ê°€ ìƒì„±í•œ ì»¨í…Œì´ë„ˆë¥¼ ë³´ì—¬ì¤Œ

## Docker ì‹¤í–‰í•˜ê¸°

1. Docker ì•± ì‹¤í–‰í•˜ê¸°
2. Docker hubì—ì„œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ CLI
ì´ë¯¸ì§€ê°€ ìˆì–´ì•¼ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŒ(ì˜ì¡´ì ì„)

ì´ë¯¸ì§€ë€?
Docker ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ê¸° ìœ„í•œ ì§€ì¹¨ì´ ë‹´ê¸´ ì½ê¸° ì „ìš© í…œí”Œë¦¿
- ì¼ë°˜ì ìœ¼ë¡œ ì´ë¯¸ì§€ëŠ” ë‹¤ë¥¸ ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, ëª‡ ê°€ì§€ ì¶”ê°€ì ì¸ ì‚¬ìš©ì ì •ì˜ ì‚¬í•­ì´ í¬í•¨ë¨
```
ubuntu ì´ë¯¸ì§€   //ê¸°ë°˜ì´ë¯¸ì§€
  â†“
python ì´ë¯¸ì§€ 
  â†“
ë‚´ê°€ ë§Œë“  fastapi ì´ë¯¸ì§€
```
=> fastapië¥¼ ì“°ê¸° ìœ„í•´ì„œëŠ” ê¸°ë°˜ì¸ pythonì´ í•„ìš”í•˜ê³  pythonì„ ì“°ê¸° ìœ„í•´ì„  ê¸°ë°˜ ìš´ì˜ì²´ì œì¸ ubuntuê°€ í•„ìš”í•¨
:ì´í›„ì˜ ìˆ«ìë¥¼ íƒœê·¸ë¼ê³  í•˜ê³  í•´ë‹¹ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ë²„ì „ì„
=> ìµœì‹  ë²„ì „ì„ í™•ì¸í•˜ê¸° ìœ„í•´ ê·¸ ì´ë¯¸ì§€ì˜ ì‹¤ì œí˜ì´ì§€ì— ê°€ì„œ ì•ˆì •ì ì¸ ìµœì‹  ë²„ì „ì„ í™•ì¸ í›„ ë„ì»¤ì—ì„œ Tag ê²€ìƒ‰í•´ì„œ ë°›ìœ¼ë©´ ë¨

#### ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
```bash
docker pull ubuntu:24.04
```

- `docker`: ë„ì»¤ ëª…ë ¹ì–´
- `pull`: ë‹¤ìš´ë°›ìŒ
- `ubuntu`: ì´ë¯¸ì§€ ì´ë¦„
- `:`: ì´ë¯¸ì§€ ì´ë¦„ê³¼ íƒœê·¸ êµ¬ë¶„ì
- `24.04`: íƒœê·¸ ì´ë¦„(ë²„ì „)
=> íƒœê·¸ ìƒëµí•˜ë©´ lastesë¡œ ë°›ì•„ì§(í˜„ì¬ ì‹œì  ê°€ì¥ ìµœì‹ ë²„ì „, ì•ˆì •ì„± ë³´ì¥ ëª»í•¨)


#### UV ì´ë¯¸ì§€ ìƒì„± in dokcerfile

```bash
FROM python:3.13.11

RUN apt-get update
RUN apt-get upgrade -y
RUN curl -LsSf https://astral.sh/uv/install.sh | sh
RUN pip install uv

WORKDIR /workspace

EXPOSE 8000
```

#### Docker ì´ë¯¸ì§€ í™•ì¸
```
docker images
```

#### Docker ì»¨í…Œì´ë„ˆ ìƒì„±
```
docker run -d -it --name ubt ubuntu:24.04
```
docker run [ì˜µì…˜] [ì»¨í…Œì´ë„ˆëª…] [ë„ì»¤ ì´ë¯¸ì§€]

run: ë‹¤ìš´+ì‹¤í–‰ í•œë²ˆì— í•´ì£¼ëŠ” ëª…ë ¹ì–´
- `-d`: ì»¨í…Œì´ë„ˆë¥¼ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë™ì‘í•˜ë„ë¡ í•¨
        í„°ë¯¸ë„ì„ ì ìœ í•˜ì§€ ì•ŠìŒ => ì•ˆ ì“°ë©´?? í„°ë¯¸ë„ì— ë¡œê·¸ê°€ ê³„ì† ì°í˜(ê°œë°œí…ŒìŠ¤íŠ¸í•  ë• ì—†ì´ ì¨ë„ ë¨)
- `-it`: ìš´ì˜ì²´ ì£¼ì†Œë¡œ ì ‘ì†í•  ìˆ˜ ìˆìŒ(t:í„°ë¯¸ë„ì²˜ëŸ¼ ìƒê¸°ê²Œ ë§Œë“¤ì–´ì¤˜ì„œ i:ì…ë ¥í•  ìˆ˜ ìˆê²Œ í•¨)
- `--name`: ì´ë¦„ ì§€ì •

```
ì¶œë ¥
d890aa89ab7f85e1f0829e391857c200cca6dfb5690b968215cb8c0ed83489fa
```
ğŸ‘†ì´ë¯¸ì§€ ì´ë¦„

* ë‚´ê°€ ë§Œë“  networkë¡œ ì‹œì‘
```
docker run --network=my-net -d -p 80:80 --name web nginx:1.28
```
- `--network=ë„·ì›¤ì´ë¦„`
- `-p 80:80`: portì½”ë”©, :ì•-ì™¸ì¸¡=windowí¬íŠ¸, :ë’¤- ë‚´ì¸¡= dockerí¬íŠ¸
              ì–˜ê°€ ìˆì–´ì•¼ í¬íŠ¸ ì—°ê²°ì´ ë˜ì–´ì„œ **ì›¹ì‚¬ì´íŠ¸ë¡œ ì—´ ìˆ˜ ìˆìŒ**
- ì´ë¯¸ì§€ëŠ” í•­ìƒ ë§ˆì§€ë§‰

### ì˜µì…˜ ì—†ì´ ë§Œë“¤ë©´ ì–´ë–»ê²Œ ë¼ìš”??
ex) `docker run nginx:1.28`
í•˜ë©´ docker containerê°€ ìƒì„±ë˜ê¸°ëŠ” í•˜ë‚˜ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë³¼ ìˆ˜ ì—†ìŒ
=> ë„ì»¤ ì•± ì»¨í…Œì´ë„ˆì— ê°€ì„œ container ID ë³µì‚¬í•´ì˜¤ê³ 
```
docker exec -it 4805e4c45b3e57245961dd06b57ac9e2506b7960f14673f866e7f7c56182f1a7 /bin/bash
```
ëª…ë ¹ì–´ë¡œ ì‹¤í–‰í•˜ë©´ (ì´ë¦„ì€ ì•ì— 4ê¸€ì ì´ìƒë§Œ ì ì–´ë„ ì¸ì‹í•´ì˜´)
`root@4805e4c45b3e:/#` ì´ë ‡ê²Œ ì ‘ì† ê°€ëŠ¥í•´ì§
`curl http://localhost:80/`
ì…ë ¥í•˜ë©´ í•´ë‹¹ ì»¨í…Œì´ë„ˆê°€ ì‘ë™í•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆìŒ
ì—¬ê¸° localhostëŒ€ì‹  ì»¨í…Œì´ë„ˆ ëª…ì„ ì…ë ¥í•´ë„ ì•Œ ìˆ˜ ìˆìŒ

### ì»¨í…Œì´ë„ˆ ìƒì„±ì‹œ íŒŒì¼ í•¨ê»˜ ì œì‘í•˜ê¸°
```
docker run -d -p 80:80 -v ./index.html:/usr/share/nginx/html/index.html --name web nginx:1.28
```

- `-v í˜¸ìŠ¤íŠ¸ ê²½ë¡œ:ì»¨í…Œì´ë„ˆ ê²½ë¡œ`: volume ë§ˆìš´íŠ¸ ì˜µì…˜(ë§ˆìš´íŠ¸ê°€ ì—°ê²°í•´ì„œ ë¶™ì¸ë‹¤ëŠ” ëœ»ì„)
                              í˜¸ìŠ¤íŠ¸ê²½ë¡œ:ì»¨í…Œì´ë„ˆê²½ë¡œë¥¼ ì—°ê²°í•´ì£¼ëŠ” ì˜µì…˜ ì½”ë“œ

---

## docker run ëª…ë ¹ì–´ ì˜µì…˜ ìµœì¢…ì •ë¦¬
**ì˜µì…˜(option)**
- `-p`: í¬íŠ¸ë§¤í•‘
- `-d`: ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰í•˜ê² ë‹¤
- `-v`: ë³¼ë¥¨(íŒŒì¼ì„) ë§ˆìš´íŠ¸í•˜ê² ë‹¤(ì—°ê²°í•´ì„œ ë¶™ì´ê² ë‹¤)
- `-it`: CLIì²˜ëŸ¼ í„°ë¯¸ë„ì—ì„œ í‚¤ë³´ë“œë¡œ ì…ë ¥í•´ì„œ ëª…ë ¹í•˜ê² ë‹¤
- `-e`: í™˜ê²½ë³€ìˆ˜ ì„¤ì •
        `-e MYSQL_ROOT_PASSWORD=1234` ì²˜ëŸ¼ DBë‚˜ ì„œë²„ ì„¤ì •ì„ `e`ë¡œ í•¨
- `-w`
- `--name`: ì´ë¦„ ì§€ì •
- `--rm`: remove, ì‚­ì œ. --rm -fí•˜ë©´ ì¼œì ¸ìˆìœ¼ë‚˜ êº¼ì ¸ìˆìœ¼ë‚˜ ê°•ì œë¡œ ì§€ì›Œì¤Œ
- `--rmi`: ì´ë¯¸ì§€ ì‚­ì œ
- `docker images`: ê°–ê³ ìˆëŠ” ì´ë¯¸ì§€ í™•ì¸
- `--network`: ë„¤íŠ¸ì›Œí¬ ì§€ì •(ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë¥¼ ê°™ì€ ë„¤íŠ¸ì›Œí¬ë¡œ ì—°ê²° ê°€ëŠ¥)
- `docker network ls`: ëª¨ë“  ë„¤íŠ¸ì›Œí¬ ë¦¬ìŠ¤íŠ¸ ë³´ê¸°
- `docker network inspect ë„¤íŠ¸ì›Œí¬ëª…`: íŠ¹ì • ë„¤íŠ¸ì›Œí¬ ìƒì„¸ë³´ê¸°(docker container inspectì—ì„œë„ í™•ì¸ ê°€ëŠ¥)
- `docker inspect ì»¨í…Œì´ë„ˆëª…`: íŠ¹ì • ì»¨í…Œì´ë„ˆ ë„¤íŠ¸ì›Œí¬ë³´ê¸°(docker container inspectì—ì„œë„ í™•ì¸ ê°€ëŠ¥)
- `--restart`
- `docker logs ì»¨í…Œì´ë„ˆëª…`: ì»¨í…Œì´ë„ˆ ë¡œê·¸ í™•ì¸ ê°€ëŠ¥(ì˜¤ë¥˜ ë³¼ ìˆ˜ ìˆìŒ)

**ëª…ë ¹(command)**
- `/bin/bash`

**êµ¬ì„±**
- ì´ë¯¸ì§€:

----

#### ìš´ì˜ì²´ì œ ì ‘ì†
```
docker exec -it ubt /bin/bash
```
- ubt ë°©ê¸ˆ ë‚´ê°€ ë§Œë“  ì´ë¦„
- /bin/bash: bash ë°©ì‹ìœ¼ë¡œ ì ‘ì†í•˜ê² ë‹¤
```
ì¶œë ¥
root@d890aa89ab7f:/# 
```
=>ë¦¬ëˆ…ìŠ¤ê°€ ë¨
-root: ì‚¬ìš©ì

docker ì•±ì— containers->Filesë“¤ì–´ê°€ë©´ íŒŒì¼ ì–´ë–»ê²Œ ê´€ë¦¬ë˜ì–´ìˆëŠ”ì§€ ë³¼ ìˆ˜ ìˆìŒ

#### Docker/Linux ëª…ë ¹ì–´

`ls` í•œì¤„ë¡œ ë¦¬ìŠ¤íŠ¸ ì¶œë ¥
`ls -l`: ê¹”ë”í•˜ê²Œ ëª©ë¡ìœ¼ë¡œ ì¶œë ¥
`ls -la`: ìˆ¨ê²¨ì§„ ê²ƒ ê¹Œì§€ ì¶œë ¥
`su`: ì‚¬ìš©ì ë³€ê²½
`su -`: ì›ë˜ ì‚¬ìš©ìë¡œ ëŒì•„ê°(But ë¹„ë²ˆ ë¬¼ì–´ë´„)
`exit`ì…ë ¥í•˜ë©´ ì·¨ì†Œí•˜ê³  ë‚˜ê°€ì§ ==> ì´ì „ìœ¼ë¡œ ëŒì•„ê°€ì§(user ì˜ëª» ë°”ê¿¨ì„ ë•Œ ì“°ë©´ ëŒì•„ì˜¬ ìˆ˜ ìˆìŒ)
`whoami`: ì ‘ì† ì‚¬ìš©ì í™•ì¸
`useradd -m -s /bin/bash -c "í™ê¸¸ë™" hong`: ì‚¬ìš©ì ìƒì„± ëª…ë ¹ì–´
                                           "í™ê¸¸ë™": ì„¤ëª…
                                           hong: ì‹¤ì œ ì´ë¦„
                                           
`passwd`: ë¹„ë°€ë²ˆí˜¸ ì§€ì •
`cd ~`: ë³¸ì¸ì˜ ê°€ì¥ ì²« ìœ„ì¹˜ë¡œ ê°
`mkdir`: ë””ë ‰í† ë¦¬ ë§Œë“¤ê¸°
`rm`: ì»¨í…Œì´ë„ˆ ì‚­ì œ
`rm -f`: ì‹¤í–‰ì¤‘ì´ë“ ë§ë“  ê°•ì œì‚­ì œ
`ps`:

![alt text](image.png)
ë²„ì „ì— ë”°ë¼ getì€ ìƒëµ ê°€ëŠ¥í•¨

`install -y`: `-y`ëŠ” ì§ˆë¬¸ ìƒëµí•˜ê³  ë¬´ì¡°ê±´ ê¹”ë¼ëŠ” ëª…ë ¹ì–´
`install python3 -y`í•˜ë©´ pythonì‚¬ìš© ê°€ëŠ¥
`python3 main.py`ë¡œ ì‹¤í–‰
`vi`: ë©”ëª¨ì¥ì²˜ëŸ¼ ì“¸ ìˆ˜ ìˆìŒ
`vi main.sh`: ë’¤ì— ë¶™ëŠ”ê²Œ íŒŒì¼ëª….sh í™•ì¥ì
ifconfig ì“°ëŠ”ë²•
`apt update`ë¡œ ì—…ë°ì´íŠ¸ í›„
`apt install net-tools`ë¡œ ë„¤íŠ¸ì›Œí¬ íˆ´ ì„¤ì¹˜ í›„
`ifconfig` ì“°ë©´
```
eth0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500
        inet 172.17.0.2  netmask 255.255.0.0  broadcast 172.17.255.255  //inetì´ ë‚´ ë„¤íŠ¸ì›Œí¬
        ether 4e:90:ad:a0:8f:01  txqueuelen 0  (Ethernet)
        RX packets 20271  bytes 28952754 (27.6 MiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 19781  bytes 1458864 (1.3 MiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0

lo: flags=73<UP,LOOPBACK,RUNNING>  mtu 65536
        inet 127.0.0.1  netmask 255.0.0.0
        inet6 ::1  prefixlen 128  scopeid 0x10<host>
        loop  txqueuelen 1000  (Local Loopback)
        RX packets 12  bytes 1806 (1.7 KiB)
        RX errors 0  dropped 0  overruns 0  frame 0
        TX packets 12  bytes 1806 (1.7 KiB)
        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0
```
ì´ë ‡ê²Œ ì¶œë ¥ë¨
- lo: Loopback ì¸í„°í˜ì´ìŠ¤, ë‚˜ ìì‹ ì—ê²Œ ë³´ë‚´ëŠ” ì „ìš© í†µì‹ ì„ 
      ìê¸°ìì‹  í…ŒìŠ¤íŠ¸ìš©, ë‚´ë¶€ í”„ë¡œì„¸ìŠ¤ê°„ì˜ í†µì‹ 
- eth0: ì‹¤ì œ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ëœ ì¸í„°í˜ì´ìŠ¤ => ì¦‰, ì»¨í…Œì´ë„ˆê°€ ë„¤íŠ¸ì›Œí¬ ë§ì— ë°›ì€ IP

vsCode -Extensions(í™•ì¥ì ì„¤ì¹˜)ì— remote ê²€ìƒ‰ í›„
![alt text](image-1.png)
ì´ê±° ì„¤ì¹˜í•˜ë©´ `vi`ì—†ì´ë„ í¸í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŒ

í¬íŠ¸ì½”ë“œ
í¬íŠ¸ë¥¼ ê°•ì œë¡œ ì§€ì •í•´ì£¼ëŠ” ì½”ë“œ
`docker run -d -it -p 80:5173 --name nd node:24.13.0`

ì—¬ê¸° -p ì´í›„ì— ì¨ì£¼ëŠ”ê²Œ ê°•ì œ ì§€ì •ë¨
ì´í›„ì— ë§Œë“  í´ë”ì— ê°€ì„œ vite.configsì— 
```
export default defineConfig({
  plugins: [react()],
  base:"/",
  server: {
    host: true
  }
})
```

ğŸ‘† ì´ ì„¤ì • ë„£ì–´ì£¼ë©´ ë¨
ê·¸ë¦¬ê³  ëœ¬ localë¸Œë¼ìš°ì € ì ‘ì† í›„ 5173ë‚ ë¦¬ê³  80ì…ë ¥í•˜ë©´ ëœ¸

# devcontainerë¡œ ì‹¤í–‰í•˜ê¸°
`ctrl`+ `shift`+ `P`


## ping
ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì—¬ë¶€ í™•ì¸ + ëŒ€ìƒì´ ì‹¤ì œë¡œ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” ìš©ë„
```
apt install -y iputils-ping
ping 172.20.0.3
```

í–ˆì„ ë•Œ ë‹µë³€ì´ ì˜¤ë©´ ì‚´ì•„ìˆê³  ì—°ê²°ì´ ë˜ì–´ìˆëŠ”ê±°ì„
ipë¡œ ì‚¬ìš©ë„ ê°€ëŠ¥í•˜ì§€ë§Œ container nameìœ¼ë¡œë„ í•  ìˆ˜ ìˆìŒ
```
ping
```
# Nginx

![alt text](image-3.png)

## Nginx í™”ë©´ ê²½ë¡œ
```
/usr/share/nginx/html/index.html
```

ì—¬ê¸° ë“¤ì–´ê°€ì„œ í¸ì§‘í•˜ë©´ urlë¡œ ë“¤ì–´ê°„ ì›¹ í™”ë©´ ìˆ˜ì • ê°€ëŠ¥
í•œê¸€ ì“°ê³ ì‹¶ìœ¼ë©´ `<head>` ì•ˆì— `<meta charset='utf-8'>`


# dockerfile
íŒŒì¼ëª… dockerfileë¡œ í•˜ë©´ í™•ì¥ì ì—†ì´ ìë™ìœ¼ë¡œ ë¨
- FROM: ê¸°ë³¸ ëŒ€ìƒ ì´ë¯¸ì§€ë¥¼ ì •ì˜í•˜ëŠ” ì†ì„±
      **ë¬´ì¡°ê±´ ì²«ì¤„**
```
FROM ubuntu:24.04
```
- MAINTAINER: ì‘ì„±ì ì •ë³´ë¥¼ ê¸°ë¡í•˜ëŠ” ì†ì„±(ì˜ ì•ˆ ì”€)
- WORKDIR: ì‘ì—… ë””ë ‰í† ë¦¬
         ì´í›„ ëª…ë ¹ë“¤ì˜ ê¸°ì¤€ ìœ„ì¹˜
         `cd`ë‘ ë¹„ìŠ·í•˜ì§€ë§Œ ì˜êµ¬ì ìœ¼ë¡œ ì§€ì •í•´ì¤Œ
```
WORKDIR /app
```
- RUN: ì‹¤í–‰ì‹œí‚¬ ëª…ë ¹ì–´ ì •ì˜
```
RUN apt update
RUN apt install -y nginx
```
- COPY: ë„ì»¤ ì»¨í…Œì´ë„ˆì˜ ê²½ë¡œë¡œ íŒŒì¼ì„ ë³µì‚¬í•  ë•Œ ì‚¬ìš©í•˜ëŠ” ì†ì„±
        ë¹Œë“œ ì‹œì ì—ë§Œ ë™ì‘í•¨
        COPY ë¡œì»¬ **ë„ìš°ê³ !!** ì»¨í…Œì´ë„ˆ
```
COPY ./index.html /var/www/html/index.nginx-debian.html
COPY . .     //=> ì•ì˜ . ëª¨ë“  íŒŒì¼ ë³µì‚¬ ë’¤ì˜ . workdirì— ì „ë¶€ ë¶™ì—¬ë„£ê¸°
```
ìœ„ì— FROMìœ¼ë¡œ í•˜ë‚˜ build í•œ ì´í›„ì— ë‹¤ì‹œ ì‹œì‘í•  ê²½ìš°
```
FROM node:24.13.0 as build

WORKDIR /app

COPY package.json ./
RUN npm install 

COPY . .

RUN npm run build
# build í•˜ê³ ë‚˜ë©´ ì‚¬ë¼ì§ ì•„ë˜ FROMë¶€í„° ë‹¤ì‹œ ì‹œì‘

FROM nginx:1.28
COPY --from=build /app/dist /usr/share/nginx/html 
```
ì´ ê²½ë¡œëŠ” ê²€ìƒ‰í•´ë³´ê±°ë‚˜ ëŠë‚Œìœ¼ë¡œ ì°¾ì€ ë‹¤ìŒì— edit ì°½ ëˆ„ë¥´ë©´ ê²½ë¡œê°€ ë§¨ ìœ„ì— ë‚˜ì˜´  
-> ì´ê±¸ ë³µì‚¬í•´ì˜¤ê¸°

- ENV: ë„ì»¤ ì»¨í…Œì´ë„ˆì˜ í™˜ê²½ë³€ìˆ˜ë¥¼ ì •ì˜í•˜ëŠ” ì†ì„±
       ì»¨í…Œì´ë„ˆ ë‚´ë¶€ì—ì„œ ì‚¬ìš© ê°€ëŠ¥
```
ENV MODE=prod
```
- EXPOSE: í¬í„° ì½”ë“œ ì§€ì •í•˜ëŠ” ì†ì„±
        : `-p 80:80`ì´ëŸ° ëª…ë ¹ì–´ë¡œ í¬íŠ¸ ì§€ì •í•´ì£¼ë©´ ESPOSEëŠ” ìƒëµ ê°€ëŠ¥í•¨
          êµ³ì´ ì“°ëŠ” ì´ìœ ëŠ” í˜‘ì—…ì‹œ ë‹¤ë¥¸ ì‚¬ëŒë“¤ì´ ì•„ 80ë²ˆ í¬íŠ¸ë¥¼ ì“°ëŠ”êµ¬ë‚˜ í•˜ëŠ” ì •ë³´ì „ë‹¬ì„ ìœ„í•¨ì„
          `-P`ë§Œ ì“¸ ê²½ìš° EXPOSEë¡œ ì§€ì •í•œ í¬íŠ¸ì— ì—°ê²°ë¨(Default Valueê°™ì€ ëŠë‚Œ)

```
EXPOSE 80
```

- ENTRYPOINT: 

- CMD: ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ëª…ë ¹ ì†ì„±
       docker runìœ¼ë¡œ ë‚˜ì¤‘ì— ë®ì–´ì“¸ ìˆ˜ ìˆìŒ
```
CMD [ "nginx","-g","demon off;" ]
```
### ğŸ¤” ì´ ëª…ë ¹ì–´ ì–´ë””ì„œ ì°¾ì•„ìš”????
=> dockerì•± -> Images -> í•´ë‹¹ ì´ë¯¸ì§€ í´ë¦­í•˜ë©´ ëª…ë ¹ì–´ë“¤ì´ ì­‰ ë‚˜ì™€ìˆìŒ

- VOLUME

### ì„¤ì • í›„ ì‹¤í–‰í•˜ê¸°
!í„°ë¯¸ë„ ì˜¤í”ˆ
1. dirë¡œ dockerfile ìˆëŠ”ì§€ í™•ì¸
2. `docker build -t web:0.0.1 .`:ë¡œ ë§Œë“¤ê¸°
3. `docker images`ë¡œ ì´ë¯¸ì§€ ë§Œë“¤ì–´ì¡ŒëŠ”ì§€ í™•ì¸
4. `docker run -d -p 80:80 --name web web:0.0.1`:ë¡œ ì‹¤í–‰
5. `docker ps`ë¡œ ì»¨í…Œì´ë„ˆ run ë˜ì—ˆëŠ”ì§€ í™•ì¸
6. ì›¹ì‚¬ì´íŠ¸ url `localhost` ì ‘ì†í•´ì„œ í™•ì¸

nginxëŠ” ì •ì íŒŒì¼ì„ ì„œë¹„ìŠ¤í•˜ê¸° ë•Œë¬¸ì— reactì—ì„œ routerë¡œ í™”ë©´ ì „í™˜ì„ í•´ì£¼ë ¤ë©´ ë”°ë¡œ ì •ì˜ë¥¼ í•´ì¤˜ì•¼í•¨
docker app -> Files -> `/etc/nginx/conf.d/default.conf`ìš” ì£¼ì†Œ ë“¤ì–´ê°€ì„œ Edit
->
```
    location / {
        root   /usr/share/nginx/html;
        index  index.html index.htm;
    }
```

```
       root   /usr/share/nginx/html;
        index  index.html index.htm;
    
  location / {
        try_files $uri /index.html;
    }
```

`COPY .default.conf /etc/nginx/conf.d/default/conf`

ì»¨í…Œì´ë„ˆ í•œë²ˆì— ì‚­ì œí•˜ëŠ” ëª…ë ¹ì–´
`docker rm -f $(docker ps -aq)`