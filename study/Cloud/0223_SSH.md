# ubuntu ì´ë¯¸ì§€ ë°›ê¸°
in vscode
```
docker pull ubuntu:24.04
```
- ubuntu ì»¨í…Œì´ë„ˆ ìƒì„± í›„ ì ‘ì†
```
docker run -it -p 22:22 --name os ubuntu:24.04 /bin/bash
```
- package ìµœì‹ í™” í•˜ê¸°
```
apt update
```
- openssh-server ì„¤ì¹˜
```
apt install -y openssh-server
```
- SSH ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
```
service ssh status
```
- SSH í”„ë¡œì„¸ìŠ¤ í™•ì¸
```
ps -ef | grep sshd
```

# SSH key ì‚¬ìš©í•˜ê¸°
in cmd
- key ìƒì„±
```
ssh-keygen -t ed25519
```
- ê³µê°œí‚¤ ì´ë¦„ ë§Œë“¤ê¸°
```
cp .ssh/id_ed25519.pub authorized_keys
```
- Container .ssh í´ë” ì¤€ë¹„
```
mkdir ~/.ssh
chmod 700 ~/.ssh
```
- Container ë³µì‚¬
```
docker cp ./authorized_keys os:/home/study/.ssh/authorized_keys
```
- íŒŒì¼ ì†Œìœ ê¶Œ ì„¤ì •
```
chown -R study:study /home/study/.ssh
```


# AWS EC2 ìƒì„±


- `ubuntu:24:04` ì´ë¯¸ì§€ ì„ íƒ
- í”„ë¦¬í‹°ì–´ ìœ í˜• ì‚¬ìš©
- í‚¤ í˜ì–´ ìƒì„± `.pem`
- ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ : 22, 80 ì˜¤í”ˆ
- ì €ì¥ì†Œ : `8Gb` 

## EC2 ì¸ìŠ¤í„´ìŠ¤ ì ‘ì†

```bash
ssh -i í‚¤í˜ì–´ ubuntu@ì¸ìŠ¤í„´ìŠ¤DNS

ë‚´ê±°: ssh -i aws_key.pem ubuntu@ec2-3-39-230-244.ap-northeast-2.compute.amazonaws.com
```

- nginx ì„¤ì¹˜
```bash
sudo apt update
sudo apt install -y nginx
sudo systemctl status nginx
```

- ì›¹ ë¸Œë¼ìš°ì €ì— ì ‘ì† í…ŒìŠ¤íŠ¸
```bash
http://ì¸ìŠ¤í„´ìŠ¤DNS:80
ë‚´ê±°ğŸ‘‡
http://ec2-3-39-230-244.ap-northeast-2.compute.amazonaws.com:80
```

## EC2ì— Docker ì‚¬ìš©í•˜ê¸°

- ubuntu ì„¤ì¹˜
```bash
sudo apt update
sudo apt install -y docker.io
```

- ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
```bash
sudo systemctl status docker
```

- ë¶€íŒ… ì‹œ ìë™ ì‹œì‘
```bash
sudo systemctl enable docker
```

- Docker ë²„ì ¼ í™•ì¸
```bash
sudo docker --version
```

## `sudo` ì—†ì´ docker ì‚¬ìš©í•˜ê¸°

- Docker ê·¸ë£¹ì— í˜„ì¬ ì‚¬ìš©ì ì¶”ê°€
rootì²˜ëŸ¼ ê¶Œí•œì„ ì£¼ê¸° ìœ„í•¨
```bash
sudo usermod -aG docker $USER
```

- ì ìš©ì„ ìœ„í•´ ë¡œê·¸ì•„ì›ƒ í›„ ë‹¤ì‹œ ì ‘ì† ë˜ëŠ” `newgrp docker` ëª…ë ¹ì–´ ì‚¬ìš©í•˜ê¸°

- `sudo` ì—†ì´ docker í™•ì¸
```bash
docker --version
```

## Docker Compose ì‚¬ìš©í•˜ê¸°

- ì„¤ì¹˜
```bash
sudo mkdir -p /usr/local/lib/docker/cli-plugins
sudo curl -SL https://github.com/docker/compose/releases/latest/download/docker-compose-linux-x86_64 \
-o /usr/local/lib/docker/cli-plugins/docker-compose
sudo chmod +x /usr/local/lib/docker/cli-plugins/docker-compose
```

- ë²„ì ¼ í™•ì¸
```bash
docker compose version
```
